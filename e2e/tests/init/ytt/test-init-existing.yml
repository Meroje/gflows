setup:
  files:
  - path: .gflows/config.yml
    content: |
      # Config file for GFlows.
      # See https://github.com/jbrunton/gflows/wiki/Configuration for options.
      githubDir: .github
      templates:
        engine: ytt
        defaults:
          libs:
            - workflows/common

run: init --engine ytt

expect:
  output: |2
         create .gflows/workflows/common/steps.lib.yml
         create .gflows/workflows/common/workflows.lib.yml
         create .gflows/workflows/common/values.yml
         create .gflows/workflows/gflows/gflows.yml
      identical .gflows/config.yml
  files:
  - path: .gflows/workflows/common/steps.lib.yml
  - path: .gflows/workflows/common/workflows.lib.yml
  - path: .gflows/workflows/common/values.yml
  - path: .gflows/workflows/gflows/gflows.yml
  - path: .gflows/config.yml
    content: |
      # Config file for GFlows.
      # See https://github.com/jbrunton/gflows/wiki/Configuration for options.
      githubDir: .github
      templates:
        engine: ytt
        defaults:
          libs:
            - workflows/common

