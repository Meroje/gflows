setup:
  files:
  - path: .gflows/config.yml
    content: |
      # Config file for GFlows.
      # See https://github.com/jbrunton/gflows/wiki/Configuration for options.
      templates:
        engine: jsonnet

run: init --engine jsonnet

expect:
  output: |2
         create .gflows/workflows/common/steps.libsonnet
         create .gflows/workflows/common/workflows.libsonnet
         create .gflows/workflows/common/git.libsonnet
         create .gflows/workflows/gflows.jsonnet
      identical .gflows/config.yml
  files:
  - path: .gflows/workflows/common/steps.libsonnet
  - path: .gflows/workflows/common/workflows.libsonnet
  - path: .gflows/workflows/common/git.libsonnet
  - path: .gflows/workflows/gflows.jsonnet
  - path: .gflows/config.yml
