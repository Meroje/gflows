setup:
  files:
    - path: .gflows/config.yml
    - path: .gflows/workflows/test.jsonnet
      content: test workflow
    - path: .github/workflows/test.yml
      content: |
        # File generated by gflows, do not modify
        # Source: .gflows/workflows/test.jsonnet
        "jobs":
          "hello":
            "runs-on": "ubuntu-latest"
            "steps":
            - "run": "echo hello, world!"
        "on":
          "push":
            "branches":
            - "develop"


run: import

expect:
  output: |
    Found workflow: .github/workflows/test.yml
      Exists: .gflows/workflows/test.jsonnet
    
  files:
  - path: .gflows/config.yml
  - path: .github/workflows/test.yml
  - path: .gflows/workflows/test.jsonnet
    content: test workflow
